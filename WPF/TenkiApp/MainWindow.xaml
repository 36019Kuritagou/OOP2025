<Window x:Class="WeatherApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="天気" Height="780" Width="460"
        Background="White">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20" Orientation="Vertical">

            <!-- 都道府県選択 -->
            <ComboBox x:Name="PrefCombo"
                      Width="200" Height="35"
                      HorizontalAlignment="Left"
                      SelectionChanged="PrefCombo_SelectionChanged"
                      Background="#FFD6EB"
                      Foreground="Black"
                      BorderBrush="#FF8FC9"
                      FontWeight="Bold"/>

            <!-- 現在天気カード -->
            <Border Background="#FFD6EB" CornerRadius="12" Padding="20" Margin="0,20,0,20">
                <StackPanel>

                    <!-- 地名 + 日付 -->
                    <TextBlock x:Name="CurrentLocation"
                               Text="東京都"
                               Foreground="White"
                               FontSize="22"
                               FontWeight="Bold"/>
                    <TextBlock x:Name="CurrentDate"
                               Text="2025/01/01 12:00"
                               Foreground="White"
                               FontSize="16"
                               Margin="0,2,0,10"/>

                    <!-- 温度 -->
                    <TextBlock x:Name="TempText"
                               FontSize="60"
                               FontWeight="Bold"
                               Foreground="White"
                               Margin="0,0,0,10"/>

                    <!-- 詳細情報：湿度、風速 -->
                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                        <TextBlock x:Name="HumidityText"
                                   Text="湿度: 50%"
                                   Foreground="White"
                                   FontSize="18"
                                   Margin="0,0,20,0"/>
                        <TextBlock x:Name="WindText"
                                   Text="風速: 3.2 m/s"
                                   Foreground="White"
                                   FontSize="18"/>
                    </StackPanel>

                </StackPanel>
            </Border>

            <!-- 時間別カード -->
            <TextBlock Text="時間別"
                       Foreground="#FF8FC9"
                       FontSize="20"
                       Margin="0,10,0,5"/>

            <Border Background="#ffe6ee" CornerRadius="12" Padding="10" Margin="0,0,0,20">
                <ScrollViewer HorizontalScrollBarVisibility="Auto">
                    <ItemsControl x:Name="HourlyPanel">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Margin="12" HorizontalAlignment="Center">
                                    <TextBlock Text="{Binding Time}" Foreground="Black" HorizontalAlignment="Center"/>
                                    <TextBlock Text="{Binding Icon}" FontSize="28" HorizontalAlignment="Center" Margin="0,5,0,5"/>
                                    <TextBlock Text="{Binding Temp}" Foreground="Black" FontSize="16"/>
                                </StackPanel>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </Border>

            <!-- 一週間 -->
            <TextBlock Text="週間予報"
                       Foreground="#FF8FC9"
                       FontSize="20"
                       Margin="0,0,0,5"/>

            <Border Background="#ffe6ee" CornerRadius="12" Padding="10">
                <ItemsControl x:Name="WeeklyPanel">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Grid Margin="5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="70"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Column="0"
                                           Text="{Binding Day}" 
                                           Foreground="Black" 
                                           VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="1"
                                           Text="{Binding Icon}" 
                                           FontSize="25"
                                           VerticalAlignment="Center"
                                           HorizontalAlignment="Center"/>
                                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                    <TextBlock Text="{Binding TempMax}" Foreground="Black" Margin="0,0,10,0"/>
                                    <TextBlock Text="{Binding TempMin}" Foreground="#555"/>
                                </StackPanel>
                            </Grid>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </Border>

        </StackPanel>
    </ScrollViewer>
</Window>
